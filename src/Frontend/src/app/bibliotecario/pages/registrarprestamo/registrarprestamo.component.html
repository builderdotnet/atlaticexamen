<p-confirmDialog 
    [style]="{ width: '25vw' }"
    [baseZIndex]="10000" 
></p-confirmDialog>

<p-card header="Prestamos de libros Atlantic">
    <div class="grid">
        <div class="col-8">
            <div class="card p-fluid">
                <h5>Prestamo de Libros</h5>
                <div class="p-formgrid grid">
                    <div class="col-3">
                        <label htmlFor="usuario">Usuario/Cliente</label>
                        <input
                            type="text"
                            autocomplete="off"
                            [(ngModel)]="usuario"
                            pInputText
                            required="true"
                            class="upper"
                        />
                    </div>
                    <div class="col-3">
                        <!-- <button pButton (click)="setfecha()">Setea Fecha </button> -->
                        <label htmlFor="fechainicio">Fecha Inicio </label>
                        <!-- (ngModelChange)="asociarDetalleDias()" -->
                        <p-calendar
                            [(ngModel)]="fechaPrestamo"
                            [showIcon]="true"
                            dateFormat="dd/mm/yy"
                            [showButtonBar]="true"
                        ></p-calendar>
                    </div>
                    <div class="col-3">
                        <label htmlFor="observaciones">Comentarios</label>
                        <input
                            type="text"
                            autocomplete="off"
                            placeholder="Ingrese observaciones"
                            [(ngModel)]="observacion"
                            pInputText
                            required="true"
                            class="upper"
                        />
                    </div>
                </div>
                <div class="p-formgrid grid">
                    <div class="col-3">
                        <label htmlFor="libros">Libros:</label>
                        <p-dropdown
                            optionLabel="text"
                            placeholder="SELECCIONAR"
                            [options]="libroList"
                            [(ngModel)]="libroSelect"
                            [filter]="true"
                            filterBy="text"
                        >
                        </p-dropdown>
                    </div>
                    <div class="col-3">
                        <label htmlFor="libros">Estante:</label>
                        <p-dropdown
                            optionLabel="text"
                            placeholder="SELECCIONAR"
                            [options]="estanteList"
                            [(ngModel)]="estanteSelect"
                            [filter]="true"
                            filterBy="text"
                        >
                        </p-dropdown>
                    </div><div class="col-3">
                        <label htmlFor="observaciones">Observacion</label>
                        <input
                            type="text"
                            autocomplete="off"
                            placeholder="Ingrese observaciones"
                            [(ngModel)]="observacionDetalle"
                            pInputText
                            required="true"
                            class="upper"
                        />
                    </div>
                    <div class="col-3">
                        <label htmlFor="libros">.</label>
                        <p-button label="Agregar" (click)="agregar()" />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card p-fluid">
        <p-table [value]="detallePrestamo" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>Libro</th>
                    <th>Estante</th>
                    <th>Observacion</th>
                    <th></th>

                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-detalle>
                <tr>
                    <td>{{ detalle.libro }}</td>
                    <td>{{ detalle.estante }}</td>
                    <td>{{ detalle.observacion }}</td> 
                    <td> 
                         <p-button label="Eliminar" (click)="eliminar(detalle)" />
                        </td> 

                </tr>
            </ng-template>
        </p-table>
    </div>
</p-card>

<p-toolbar>
    <div class="p-toolbar-group-start"></div>
    <div class="p-toolbar-group-center"></div>
    <div class="p-toolbar-group-end">
        <p-button label="Registrar" (click)="registrar()" />
    </div>
</p-toolbar>
